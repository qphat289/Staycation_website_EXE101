<!-- templates/owner/dashboard.html -->
{% extends "base.html" %}
{% block content %}
<h2 class="mb-4 fw-bold text-primary" data-translate="owner-dashboard">Owner Dashboard</h2>

<div class="row mb-4">
    <div class="col-md-6 pe-md-2 mb-3 mb-md-0">
        <a href="{{ url_for('owner.add_homestay') }}" class="btn btn-success w-100 py-3 d-flex align-items-center justify-content-center shadow" data-translate="add-homestay">
            <i class="bi bi-plus-circle me-2"></i> Add Homestay
        </a>
    </div>
    <div class="col-md-6 ps-md-2">
        <a href="{{ url_for('owner.view_bookings') }}" class="btn btn-info w-100 py-3 d-flex align-items-center justify-content-center shadow" data-translate="view-all-bookings">
            <i class="bi bi-calendar3 me-2"></i> View All Bookings
        </a>
    </div>
</div>

<div class="card custom-card">
    <div class="card-header bg-gradient">
        <h5 class="mb-0 fw-bold text-primary" data-translate="your-homestays">Your Homestays</h5>
    </div>
    <div class="table-responsive">
        <table class="table custom-table">
            <thead>
                <tr>
                    <th class="table-header" data-translate="homestay-name">Homestay Name</th>
                    <th class="table-header" data-translate="address">Address</th>
                    <th class="table-header" data-translate="rooms">Rooms</th>
                    <th class="table-header text-end" data-translate="actions">Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for homestay in homestays %}
                <tr class="table-row">
                    <!-- Title -->
                    <td class="table-cell fw-semibold">{{ homestay.title }}</td>

                    <!-- Address, City (and possibly District) -->
                    <td class="table-cell">{{ homestay.address }}, {{ homestay.city }}</td>

                    <!-- Number of Rooms -->
                    <td class="table-cell">
                        <span class="custom-badge">{{ homestay.rooms|length }}</span>
                    </td>

                    <!-- Actions -->
                    <td class="table-cell text-end">
                        <div class="custom-btn-group" role="group">
                            <!-- Manage Rooms Route -->
                            <a href="{{ url_for('owner.manage_rooms', homestay_id=homestay.id) }}" 
                               class="btn-action btn-manage" data-translate="manage-rooms">
                               <i class="bi bi-door-open me-1"></i> Manage Rooms
                            </a>

                            <!-- Edit Homestay Route -->
                            <a href="{{ url_for('owner.edit_homestay', id=homestay.id) }}" 
                               class="btn-action btn-edit" data-translate="edit">
                               <i class="bi bi-pencil me-1"></i> Edit
                            </a>

                            <!-- Delete Homestay Route -->
                            <a href="{{ url_for('owner.delete_homestay', id=homestay.id) }}" 
                               class="btn-action btn-delete"
                               onclick="return confirm('Are you sure you want to delete this homestay?');"
                               data-translate="delete">
                               <i class="bi bi-trash me-1"></i> Delete
                            </a>
                        </div>
                    </td>
                </tr>
                {% endfor %}
                {% if not homestays %}
                <tr>
                    <td colspan="4" class="text-center py-5">
                        <p class="text-muted mb-3 fs-5" data-translate="no-homestays">You don't have any homestays yet.</p>
                        <a href="{{ url_for('owner.add_homestay') }}" class="btn btn-success btn-lg shadow-sm" data-translate="add-first-homestay">
                            <i class="bi bi-plus-circle me-1"></i> Add your first homestay
                        </a>
                    </td>
                </tr>
                {% endif %}
            </tbody>
        </table>
    </div>
</div>

<style>
    /* Nút chính */
    .btn-success, .btn-info {
        transition: all 0.3s ease;
        font-weight: 500;
        letter-spacing: 0.3px;
        text-shadow: 0px 1px 1px rgba(0,0,0,0.2);
    }
    .btn-success:hover, .btn-info:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 15px rgba(0,0,0,0.1);
    }
    .btn-success:hover {
        background-color: #218838;
    }
    .btn-info:hover {
        background-color: #138496;
    }
    
    /* Card và tiêu đề */
    .custom-card {
        border: none;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1), 
                    0 1px 8px rgba(0, 0, 0, 0.07),
                    0 0 1px rgba(0, 0, 0, 0.05);
    }
    .card-header.bg-gradient {
        background-image: linear-gradient(to right, #f1f9fe, #ffffff);
        border-bottom: 1px solid rgba(0,0,0,0.05);
        padding: 1.2rem 1.5rem;
    }
    .fw-bold.text-primary {
        font-size: 1.2rem;
        color: #0d6efd !important;
        text-shadow: 1px 1px 0px rgba(255,255,255,1);
        letter-spacing: 0.5px;
    }
    
    /* Bảng */
    .custom-table {
        margin-bottom: 0;
        border-collapse: separate;
        border-spacing: 0;
    }
    .table-header {
        background: linear-gradient(to bottom, #f8f9fa, #f1f1f1);
        color: #495057;
        font-weight: 600;
        padding: 1rem 1.5rem;
        border-bottom: 2px solid #e9ecef;
        text-transform: uppercase;
        font-size: 0.85rem;
        letter-spacing: 0.5px;
    }
    .table-row {
        transition: all 0.3s ease;
        border-bottom: 1px solid #f1f1f1;
    }
    .table-row:hover {
        background-color: rgba(13, 110, 253, 0.04);
        transform: translateY(-2px);
        box-shadow: 0 5px 10px rgba(0,0,0,0.05);
        border-left: 3px solid #0d6efd;
    }
    .table-cell {
        padding: 1.2rem 1.5rem;
        vertical-align: middle;
        color: #212529;
    }
    .fw-semibold {
        font-weight: 600;
        color: #000;
    }
    
    /* Badge */
    .custom-badge {
        display: inline-block;
        min-width: 30px;
        height: 30px;
        line-height: 30px;
        text-align: center;
        background: linear-gradient(135deg, #0d6efd, #0a58ca);
        color: white;
        font-weight: 600;
        font-size: 0.9rem;
        border-radius: 30px;
        padding: 0 12px;
        box-shadow: 0 3px 6px rgba(13, 110, 253, 0.3), inset 0 -2px 0 rgba(0,0,0,0.1);
        text-shadow: 0 1px 1px rgba(0,0,0,0.2);
    }
    
    /* Nút hành động */
    .custom-btn-group {
        display: flex;
        gap: 8px;
        justify-content: flex-end;
    }
    .btn-action {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 0.5rem 1rem;
        font-size: 0.85rem;
        font-weight: 500;
        border-radius: 6px;
        text-decoration: none;
        transition: all 0.2s ease;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1), inset 0 -2px 0 rgba(0,0,0,0.1);
        text-shadow: 0 1px 1px rgba(0,0,0,0.1);
    }
    .btn-action:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.15), inset 0 -2px 0 rgba(0,0,0,0.1);
    }
    .btn-manage {
        background: linear-gradient(to bottom, #0d6efd, #0b5ed7);
        color: white;
    }
    .btn-manage:hover {
        background: linear-gradient(to bottom, #0b5ed7, #0a58ca);
        color: white;
    }
    .btn-edit {
        background: linear-gradient(to bottom, #ffc107, #e0a800);
        color: #212529;
    }
    .btn-edit:hover {
        background: linear-gradient(to bottom, #e0a800, #d39e00);
        color: #212529;
    }
    .btn-delete {
        background: linear-gradient(to bottom, #dc3545, #c82333);
        color: white;
    }
    .btn-delete:hover {
        background: linear-gradient(to bottom, #c82333, #bd2130);
        color: white;
    }
    
    /* Hiệu ứng hover cho nút lớn */
    .btn-lg:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 10px rgba(0,0,0,0.1);
    }
    
    /* Thiết kế responsive */
    @media (max-width: 768px) {
        .custom-btn-group {
            flex-direction: column;
            gap: 5px;
        }
        .table-header, .table-cell {
            padding: 0.75rem 1rem;
        }
    }
</style>
{% endblock %}
