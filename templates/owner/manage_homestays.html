{% extends 'base.html' %}

{% block title %}Manage Homestays{% endblock %}

{% block content %}
<h2>Manage Homestays</h2>
<hr>

<a href="{{ url_for('owner.add_homestay') }}" class="btn btn-success mb-3">Add New Homestay</a>

{% if homestays %}
<div class="table-responsive">
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>Title</th>
        <th>City</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
    {% for homestay in homestays %}
      <tr>
        <td>{{ homestay.title }}</td>
        <td>{{ homestay.city }}</td>
        <td>
          <div class="btn-group" role="group">
            <a href="{{ url_for('owner.edit_homestay', id=homestay.id) }}"
               class="btn btn-warning btn-sm">Edit</a>
            <a href="{{ url_for('owner.manage_rooms', homestay_id=homestay.id) }}" 
               class="btn btn-primary btn-sm">Manage Rooms</a>
            <a href="{{ url_for('owner.book_room', homestay_id=homestay.id) }}" 
               class="btn btn-success btn-sm">Đặt phòng</a>
            <a href="{{ url_for('owner.delete_homestay', id=homestay.id) }}"
               class="btn btn-danger btn-sm"
               onclick="return confirm('Are you sure you want to delete this homestay?');">
               Delete
            </a>
          </div>
        </td>
      </tr>
    {% endfor %}
    </tbody>
  </table>
</div>
{% else %}
<p>You have not added any homestays yet.</p>
{% endif %}

{% endblock %}
